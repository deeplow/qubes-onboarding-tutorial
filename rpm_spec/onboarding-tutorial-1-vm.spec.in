#
# This is the SPEC file for creating binary RPMs for the vm.
#

Name: qubes-onboarding-tutorial-1
# FIXME @VERSION@ was not working
Version: 0.1.0
Release: 1%{?dist}

Summary: VM-side Qubes onboarding tutorial component
License: GPLv2+
URL: https://github.com/deeplow

Source0: %{name}-%{version}.tar.gz

%description
VM-side Qubes onboarding tutorial component.

# supress debug information (FIXME was failing build)
%global debug_package %{nil}

BuildArch: noarch

BuildRequires:  make
BuildRequires:  python%{python3_pkgversion}-devel
BuildRequires:  python%{python3_pkgversion}-setuptools

Requires:  gtk3

Requires:  python%{python3_pkgversion}-setuptools

Provides:   qubes-onboarding-tutorial-1 = %{version}-%{release}


%prep
%setup

%build
%py3_build

%install
%py3_install
make install-vm DESTDIR=$RPM_BUILD_ROOT

%files
%dir %{python3_sitelib}/tutorial_1_bundled_programs-*.egg-info
%{python3_sitelib}/tutorial_1_bundled_programs-*.egg-info/*

%dir %{python3_sitelib}/mock_filemanager
%{python3_sitelib}/mock_filemanager/*.py
%{python3_sitelib}/mock_filemanager/*.ui
%dir %{python3_sitelib}/mock_filemanager/images
%{python3_sitelib}/mock_filemanager/images/*
%dir %{python3_sitelib}/mock_filemanager/__pycache__
%{python3_sitelib}/mock_filemanager/__pycache__/*
%{_bindir}/qubes-tutorial-mock-filemanager

/usr/lib/qubes-onboarding-tutorial-1/exec_cmd_wrapper.py*


%changelog
@CHANGELOG@
